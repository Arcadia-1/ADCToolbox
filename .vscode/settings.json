{
    // 确保终端继承系统环境变量
    "terminal.integrated.inheritEnv": true,
    
    // 为 PowerShell 终端同步系统环境变量
    "terminal.integrated.env.powershell": {
        "ANTHROPIC_BASE_URL": "${env:ANTHROPIC_BASE_URL}",
        "ANTHROPIC_AUTH_TOKEN": "${env:ANTHROPIC_AUTH_TOKEN}"
    },
    
    // 配置 PowerShell 终端，确保加载完整的系统 PATH 和环境变量
    "terminal.integrated.profiles.windows": {
        "PowerShell": {
            "source": "PowerShell",
            "args": [
                "-NoExit",
                "-Command",
                "$env:PATH = [System.Environment]::GetEnvironmentVariable('Path','Machine') + ';' + [System.Environment]::GetEnvironmentVariable('Path','User') + ';' + $env:PATH; $baseUrl = [System.Environment]::GetEnvironmentVariable('ANTHROPIC_BASE_URL','User'); if (-not $baseUrl) { $baseUrl = [System.Environment]::GetEnvironmentVariable('ANTHROPIC_BASE_URL','Machine') }; $env:ANTHROPIC_BASE_URL = $baseUrl; $authToken = [System.Environment]::GetEnvironmentVariable('ANTHROPIC_AUTH_TOKEN','User'); if (-not $authToken) { $authToken = [System.Environment]::GetEnvironmentVariable('ANTHROPIC_AUTH_TOKEN','Machine') }; $env:ANTHROPIC_AUTH_TOKEN = $authToken"
            ]
        }
    }
}

